{"version":3,"file":"component---src-pages-xmas-card-form-js-b40201b25f83d4dfa1ab.js","mappings":"sNAAA,EAAe,IAA0B,wD,oBCSc,+uPAqIvD,EAnIqB,SAAH,GAAU,EAAJA,KAAsB,IAAhBC,EAAQ,EAARA,SAC5B,GAAkCC,EAAAA,EAAAA,WAAS,GAApCC,EAAS,KAAEC,EAAY,KAC9B,GAAoCF,EAAAA,EAAAA,WAAS,GAAtCG,EAAU,KAAEC,EAAa,MAChCC,EAAAA,EAAAA,YAAU,WACUC,aAAaC,QAAQ,cAErCL,GAAa,EAEjB,GAAG,IA+BH,OACE,QAAC,IAAM,CAACH,SAAUA,EAAUS,QAAQ,cAClC,QAAC,IAAG,CAACC,MAAM,gCACX,sBAEIR,IACE,QAAC,KAAY,MACX,uBACE,iDACA,4DACA,sDAA2E,mBAAK,sBAChF,uBACE,eAAKS,IAAKC,EAAUC,IAAI,0BAAyB,UAEnD,QAAC,KAAe,CAACC,GAAG,KAAG,eAM5BZ,IACC,QAAC,KAAY,KACVE,IACC,uBACE,uBACE,oEACA,kBAAQW,QAxDF,SAACC,GACvBA,EAAEC,kBACFZ,GAAc,EAChB,EAqDmD,0BAMvC,+CACA,oGACA,uBACE,eAAKM,IAAKC,EAAUC,IAAI,0BAAyB,UAEnD,wBACA,mFACA,gBAAMK,SAjEG,SAACF,GACpBA,EAAEG,iBACF,IAAMC,EAAOJ,EAAEK,OACTC,EAAW,IAAIC,SAASH,GACxBI,EAAU,CAAC,EACjBF,EAASG,SAAQ,SAASC,EAAOC,GAC/BH,EAAQG,GAAOD,CACjB,IACKF,EAAQI,MAASJ,EAAQK,UAAaL,EAAQM,MAASN,EAAQO,OAAUP,EAAQQ,SAAYR,EAAQS,QAGxGC,MAAM,4DAA6D,CACjEC,OAAQ,OACRC,KAAMd,IAELe,MAAK,WACJlC,GAAa,GACbI,aAAa+B,QAAQ,YAAa,KAClCC,EAAAA,GAAAA,aACF,IACCC,OAAM,WACLC,QAAQC,IAAI,OACd,IAbFrC,GAAc,EAelB,EAyC2C,QAC7B,iBAAOsC,QAAQ,OAAM,iBACrB,iBAAOf,KAAK,OAAOgB,KAAK,OAAM,SAE9B,oBACE,uDACA,iBAAOhB,KAAK,UAAUgB,KAAK,OAAM,UAGnC,oBACE,iDACA,iBAAOhB,KAAK,YAAYgB,KAAK,OAAM,UAGrC,oBACE,4CACA,iBAAOhB,KAAK,WAAWgB,KAAK,OAAM,UAGpC,oBACE,sDACA,iBAAOhB,KAAK,WAAWgB,KAAK,OAAM,UAGpC,oBACE,uCACA,iBAAOhB,KAAK,OAAOgB,KAAK,OAAM,UAGhC,oBACE,4CACA,iBAAOhB,KAAK,QAAQgB,KAAK,OAAM,UAGjC,oBACE,qCACA,iBAAOhB,KAAK,UAAUgB,KAAK,OAAM,UAGnC,oBACE,yCACA,iBAAOhB,KAAK,UAAUgB,KAAK,OAAM,UAGnC,kBAAQA,KAAK,SAAQ,oBAQrC,C","sources":["webpack://personal/./src/images/xmas-card.png","webpack://personal/./src/pages/xmas-card-form.js"],"sourcesContent":["export default __webpack_public_path__ + \"static/xmas-card-e695f3306aaba85fce080a268670295b.png\";","import React, { useEffect, useState } from \"react\";\nimport tw from \"twin.macro\";\nimport { graphql } from \"gatsby\";\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\";\nimport Layout from \"../components/layout\";\nimport Seo from \"../components/seo\";\nimport { Footer } from \"../components/Footer\";\nimport { InternalLinkBtn, MaxContainer } from \"../components/share-ui\";\nimport XmasCard from \"../images/xmas-card.png\";\nimport { animateScroll as scroll } from 'react-scroll';\n\nconst XmasCardPage = ({ data, location }) => {\n  const [submitted, setSubmitted] = useState(false);\n  const [errorState, setErrorState] = useState(false);\n  useEffect(()=>{\n    const submitted = localStorage.getItem('submitted')\n    if (submitted){\n      setSubmitted(true);\n    }\n  }, [])\n  const handleErrorBack = (e) =>{\n    e.stopPropagation();\n    setErrorState(false)\n  }\n  const handleOnSubmit=(e)=>{\n    e.preventDefault();\n    const form = e.target;\n    const formData = new FormData(form);\n    const formObj = {};\n    formData.forEach(function(value, key){\n      formObj[key] = value;\n    });\n    if (!formObj.name || !formObj.address1 || !formObj.city || !formObj.state || !formObj.country || !formObj.zipcode){\n      setErrorState(true)\n    } else{\n      fetch(\"https://getform.io/f/bfe268b1-6611-4701-a6e2-3b0d52b32925\", {\n        method: \"post\",\n        body: formData\n      })\n        .then(() => {\n          setSubmitted(true);\n          localStorage.setItem('submitted', '1');\n          scroll.scrollToTop();\n        })\n        .catch(() => {\n          console.log('here')\n        });\n    }\n  }\n\n  return (\n    <Layout location={location} bgColor=\"darkBeige\">\n      <Seo title=\"Jasper's Holiday Card Form\" />\n      <div tw=\"bg-darkBeige pb-5 min-h-screen text-green-700\">\n        {\n          submitted && (\n            <MaxContainer>\n              <div tw=\"text-center\">\n                <h1 tw=\"font-bold text-xl text-green-700 rounded py-4 mb-2\">Submitted Successfully!</h1>\n                <h4 tw=\"text-base text-green-700 rounded p-1\">We will send out a card very soon!</h4>\n                <p tw=\"text-base text-green-700 rounded p-1\">Wish you a Merry Christmas and<br/>a Happy New Year!</p>\n                <div tw=\"w-3/4 mx-auto my-6 rounded-md bg-beige p-3 md:(w-72 mx-auto)\">\n                  <img src={XmasCard} alt=\"Jasper's Christmas Card\" tw=\"rounded-md shadow-md rotate-[-4deg]\" />\n                </div>\n                <InternalLinkBtn to=\"/\">Homepage</InternalLinkBtn>\n              </div>\n            </MaxContainer>\n          )\n        }\n        {\n          !submitted && (\n            <MaxContainer>\n              {errorState && (\n                <div tw=\"fixed inset-0 bg-transparent flex items-center px-4 z-10\">\n                  <div tw=\"bg-green-700 w-full h-32 p-5 mb-10 text-center shadow-md rounded-md\">\n                    <div tw=\"text-beige\">Please fill all the form fields required.</div>\n                    <button onClick={handleErrorBack}\n                            tw=\"bg-primaryBtn text-beige w-40 rounded-lg py-2 mt-4\"\n                    >Back to form</button>\n                  </div>\n                </div>\n              )}\n              <h1 tw=\"font-bold text-xl text-center text-green-700 rounded px-2.5 md:(mb-2)\">Jasper's Holiday Card</h1>\n              <h4 tw=\"text-base text-center text-green-700 rounded p-2.5 mb-2 md:(mb-6)\">Holiday season is here and we want to say thanks to everyone following us!</h4>\n              <div tw=\"mb-6 rounded-md bg-beige p-3 md:(w-96 mx-auto)\">\n                <img src={XmasCard} alt=\"Jasper's Christmas Card\" tw=\"rounded-md shadow-md rotate-[-4deg]\" />\n              </div>\n              <div tw=\"border-b-2 border-green-700 w-5/6 mx-auto\"/>\n              <p tw=\"text-base text-center text-green-700 rounded p-2.5 mb-2 md:(mt-6)\">Submit the following form and we will send a Holiday Card!</p>\n              <form onSubmit={handleOnSubmit} tw=\"md:(w-96 mx-auto)\">\n                <label htmlFor=\"name\" tw=\"block\">Name:</label>\n                <input name=\"name\" type=\"text\"\n                       tw=\"bg-transparent text-green-700 border-b-2 border-green-700 px-1 py-0.5 mt-1 mb-1.5 w-full\"/>\n                <div>\n                  <label tw=\"block\">Your Pet's Name:(optional)</label>\n                  <input name=\"petName\" type=\"text\"\n                         tw=\"bg-transparent text-green-700 border-b-2 border-green-700 px-1 py-0.5 mt-1 mb-1.5 w-full\"/>\n                </div>\n                <div>\n                  <label tw=\"block\">Instagram:(optional)</label>\n                  <input name=\"insHandle\" type=\"text\"\n                         tw=\"bg-transparent text-green-700 border-b-2 border-green-700 px-1 py-0.5 mt-1 mb-1.5 w-full\"/>\n                </div>\n                <div>\n                  <label tw=\"block\">Address Line 1:</label>\n                  <input name=\"address1\" type=\"text\"\n                         tw=\"bg-transparent text-green-700 border-b-2 border-green-700 px-1 py-0.5 mt-1 mb-1.5 w-full\"/>\n                </div>\n                <div>\n                  <label tw=\"block\">Address Line 2:(optional)</label>\n                  <input name=\"address2\" type=\"text\"\n                         tw=\"bg-transparent text-green-700 border-b-2 border-green-700 px-1 py-0.5 mt-1 mb-1.5 w-full\"/>\n                </div>\n                <div>\n                  <label tw=\"block\">City/Town:</label>\n                  <input name=\"city\" type=\"text\"\n                         tw=\"bg-transparent text-green-700 border-b-2 border-green-700 px-1 py-0.5 mt-1 mb-1.5 w-full\"/>\n                </div>\n                <div>\n                  <label tw=\"block\">Province/State:</label>\n                  <input name=\"state\" type=\"text\"\n                         tw=\"bg-transparent text-green-700 border-b-2 border-green-700 px-1 py-0.5 mt-1 mb-1.5 w-full\"/>\n                </div>\n                <div>\n                  <label tw=\"block\">Country:</label>\n                  <input name=\"country\" type=\"text\"\n                         tw=\"bg-transparent text-green-700 border-b-2 border-green-700 px-1 py-0.5 mt-1 mb-1.5 w-full\"/>\n                </div>\n                <div>\n                  <label tw=\"block\">Postal Code:</label>\n                  <input name=\"zipcode\" type=\"text\"\n                         tw=\"bg-transparent text-green-700 border-b-2 border-green-700 px-1 py-0.5 mt-1 mb-1.5 w-full\"/>\n                </div>\n                <button type=\"submit\" tw=\"block bg-primaryBtn text-beige w-full rounded-lg py-2 mt-4\">Submit</button>\n              </form>\n            </MaxContainer>\n          )\n        }\n      </div>\n    </Layout>\n  );\n};\nexport default XmasCardPage;"],"names":["data","location","useState","submitted","setSubmitted","errorState","setErrorState","useEffect","localStorage","getItem","bgColor","title","src","XmasCard","alt","to","onClick","e","stopPropagation","onSubmit","preventDefault","form","target","formData","FormData","formObj","forEach","value","key","name","address1","city","state","country","zipcode","fetch","method","body","then","setItem","scroll","catch","console","log","htmlFor","type"],"sourceRoot":""}